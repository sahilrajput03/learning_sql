# Learn `sqlite3` Cli

```sh
# Run query via argument
sqlite3 db1.sqlite "YOUR QUERY HERE"

# Examples queries via argument:
nodemon -x bash script-1.sh

# Running a `.sql` file against a db file (db file will be created if not present)
sqlite3 db1.sqlite < 1.createUserTable.sql

# Using a db file via SQLite CLI for querying and managing the database
sqlite3 db1.sqlite

# Learn subshell prompt
$ sqlite3
Use below commands to use it:
.open db1.sqlite   # opens the database file
.tables                 # shows tables
.schema user            # shows schema of `user` table
.help                   # shows help for all commands
.exit (to exit shell OR use ctrl+d OR cmd+c (twice))
```

**Quick Links:**
- Inspiration:
  - Is anyone using SQLite on production? (either side project or business) - Reddit: [Click here](https://www.reddit.com/r/rails/comments/k4vlqo/is_anyone_using_sqlite_on_production_either_side/)
  - How (and why) to run SQLite in production: [HackerNews](https://news.ycombinator.com/item?id=39835496)
- Docs of sqlite3 cli: https://www.sqlite.org/cli.html
- Sqlite features that aren't implemented in sqlite: https://www.sqlite.org/limits.html
  - ~quoting from above link: `Other kinds of ALTER TABLE operations such as ALTER COLUMN, ADD CONSTRAINT, and so forth are omitted.`~
  - Newer version of sqlite allows renaming column names and table names now: [Click here](https://chatgpt.com/c/687aa6ad-0658-8007-b701-e46b6b76db6a)
- SQL docs (w3school): https://www.w3schools.com/sql/default.asp

# Code (autogenerated by auto-docs)

## File: `script-1.sh`

<!-- MARKDOWN-AUTO-DOCS:START (CODE:src=./script-1.sh) -->
<!-- The below code snippet is automatically added from ./script-1.sh -->
```sh
#!/usr/bin/env bash

dbFile=db2.sqlite

# Learn: Create table
# sqlite3 $dbFile "CREATE TABLE users (id INTEGER PRIMARY KEY, name TEXT);"

# Learn: Insert user, Get all users
# sqlite3 $dbFile \
# "INSERT INTO users (name) VALUES ('Bob'); \
# SELECT * FROM users;"

# Learn: Get all users
# sqlite3 $dbFile "SELECT * FROM users;"

# Learn: Create Table, Insert, Get all users
rm $dbFile
sqlite3 $dbFile "CREATE TABLE users (id INTEGER PRIMARY KEY, name TEXT); \
INSERT INTO users (name) VALUES ('Alice'); \
SELECT * FROM users;"
```
<!-- MARKDOWN-AUTO-DOCS:END -->

## File: `1.createUserTable.sql`

<!-- MARKDOWN-AUTO-DOCS:START (CODE:src=./1.createUserTable.sql) -->
<!-- The below code snippet is automatically added from ./1.createUserTable.sql -->
```sql
-- SQLite
-- Use hotkey: ctrl+shift+q to execute the query.
-- Use vscode extension: alexcvzz.vscode-sqlite
-- NOT NULL means that now this field can be assigned non-nullable values only.

CREATE TABLE User (
	firstName TEXT,
	-- firstName TEXT PRIMARY KEY,
   	lastName TEXT,
   	id TEXT,
   	createdAt TEXT NOT NULL,
   	updatedAt TEXT NOT NULL
);
```
<!-- MARKDOWN-AUTO-DOCS:END -->


## File: `2.addColumn.sql`

<!-- MARKDOWN-AUTO-DOCS:START (CODE:src=./2.addColumn.sql) -->
<!-- The below code snippet is automatically added from ./2.addColumn.sql -->
```sql
-- Syntax:
-- ALTER TABLE table_name
-- ADD column_name datatype;

ALTER TABLE user
ADD gender string;
```
<!-- MARKDOWN-AUTO-DOCS:END -->

## File: `3.deleteColumn.sql`

<!-- MARKDOWN-AUTO-DOCS:START (CODE:src=./3.deleteColumn.sql) -->
<!-- The below code snippet is automatically added from ./3.deleteColumn.sql -->
```sql
-- Syntax:
-- ALTER TABLE Customers
-- DROP COLUMN ContactName;

-- Deletes a column lastname from user table:
ALTER TABLE user
DROP COLUMN lastname;
```
<!-- MARKDOWN-AUTO-DOCS:END -->

## File: `4.searchEntry.sql`

<!-- MARKDOWN-AUTO-DOCS:START (CODE:src=./4.searchEntry.sql) -->
<!-- The below code snippet is automatically added from ./4.searchEntry.sql -->
```sql
select * from user
where firstName="Carl"
```
<!-- MARKDOWN-AUTO-DOCS:END -->
